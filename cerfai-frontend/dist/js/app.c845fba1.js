(function(){"use strict";var e={3101:function(e,t,a){var s=a(6369),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],l=a(1001),i={},n=(0,l.Z)(i,r,o,!1,null,null,null),c=n.exports,d=a(2631),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("el-menu",{staticClass:"menu",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[t("el-menu-item",{attrs:{index:"tag"}},[e._v("Novelai词条贡献站 >")]),t("el-menu-item",{attrs:{index:"tag_search"}},[e._v("搜索词条")]),t("el-menu-item",{attrs:{index:"contributor"}},[e._v("贡献榜")]),t("el-menu-item",{attrs:{index:"share"}},[e._v("共享计划")])],1),t("el-collapse",{staticClass:"collapse",model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[t("el-collapse-item",{attrs:{title:"Novelai词条资源贡献站",name:"1"}},[t("div",[e._v(" 本站皆在建立novelai中所包含的词条解释数据库，为广大魔导师提供词条贡献平台，所有收集的数据在收集整理后进行公开，为novelai开源生态建立数据仓库基础，如果您有其他数据源或者自行整理的词条信息，并且希望参与本站建设，可以直接联系我们进行批量数据导入"),t("br"),e._v(" 联系方式：QQ: 2513675036(墨安) / 621816415(洛儿)"),t("br"),e._v(" 本站交流群：660612010 ")]),t("div",[e._v("目前已收到用户贡献词条数: "+e._s(e.up_cnt))]),t("div",[e._v("当前站点已收录总词条数: "+e._s(e.ct_total))]),t("div",[e._v("参与贡献基本原则：在不破坏他人劳动成果的前提下，对词条原有信息做任何有效补充均可视为有效贡献")])]),t("el-collapse-item",{attrs:{title:"贡献操作指南",name:"2"}},[t("div",[e._v(" 您所看到的所有词条内容来自 机器翻译/人工初筛/其他用户个人上传。 欢迎对词条进行内容审核或者参与实际测试，并提供宝贵的建议。 如果您认为该词条准确无误，请点击提交，将自动随机下一条标签。 输入词条分类关键词，可以快速选择词条分类。 如果该词条没有适合的分类，请输入并选择 “标签扩展” 并可在备注中描述新的分类， 如果经多方测试，标签无效或者当前版本无效，请输入并选择“无效标签” 如果您对当前标签没兴趣或者不需要进行修改，点击“换一个”更换词条。 ")]),t("div",[t("strong",[e._v("词条名："),t("br")]),e._v(" 是指导入数据库的Tag英文原名，软件可识别的词条/标签。 ")]),t("div",[t("strong",[e._v("词条译名："),t("br")]),e._v(" 是指词条翻译的中文名，或者贡献者修改的译名，最好是中文版AI可识别的译名。因为尚未校正，可能存在翻译错误。 ")]),t("div",[t("strong",[e._v("是否NSWF："),t("br")]),e._v(" 当前标签生成图片时是否会出现不适合工作场合的画面，包括不限于血腥暴力和敏感内容，如果是请打开此项。 ")]),t("div",[t("strong",[e._v("词条说明："),t("br")]),e._v(" 对于词条的补充和内容说明。对标签进行测试时，建议标明SD测试还是NF测试，两者会有些许差异。单独使用标签与实际混合标签时会产生不同效果，cfg参数会影响标签效果，标签数字权重与{}的增加也会标签产生的效果，建议多次测试确定效果。 ")]),t("div",[t("strong",[e._v("备注信息："),t("br")]),e._v(" 词条的来源和调查。词条的正确译名可能需要借助谷歌等搜索引擎，容易产生误解的是画师账号昵称和人名，并且可能由于关联搜索而出现奇怪的内容，导致内容与标签毫无关联，这取决于模型的收录程度，如果要强调画师或者风格，应该加上by_或者（style） ")]),t("div",[t("strong",[e._v("贡献者："),t("br")]),e._v(" 所有参与词条编辑的人都可以填入贡献者名字，请使用常用的昵称或者数字字母，提交词条将计入贡献名单，优秀的内容提交者将在榜单上体现，请尊重自己和他人的劳动成果，恶意删改将会触发网站防御，并拉入AI绘画信息并联计划黑名单。 ")])])],1),t("div",{staticClass:"container"},[t("el-form",{directives:[{name:"show",rawName:"v-show",value:"tag"==e.activeIndex,expression:"activeIndex == 'tag'"}],ref:"form",attrs:{model:e.form,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"词条名："}},[t("div",{staticClass:"row"},[t("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.form.name,expression:"form.name",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.onError,expression:"onError",arg:"error"}],attrs:{type:"primary"}},[e._v("复制词条名")])],1)]),t("el-form-item",{attrs:{label:"词条译名："}},[t("el-input",{model:{value:e.form.t_name,callback:function(t){e.$set(e.form,"t_name",t)},expression:"form.t_name"}})],1),t("el-form-item",{attrs:{label:"词条分类："}},[t("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"可搜索词条分类",clearable:""},on:{select:e.categoryHandleSelect},model:{value:e.form.c_name,callback:function(t){e.$set(e.form,"c_name",t)},expression:"form.c_name"}})],1),t("el-form-item",{attrs:{label:"是否NSFW："}},[t("el-switch",{model:{value:e.form.is_nsfw,callback:function(t){e.$set(e.form,"is_nsfw",t)},expression:"form.is_nsfw"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.form.is_nsfw,expression:"form.is_nsfw"}],staticClass:"nsfw-span",staticStyle:{color:"#e66"}},[e._v("这是一个包含工作场所不宜内容的词条")]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.form.is_nsfw,expression:"!form.is_nsfw"}],staticClass:"nsfw-span"},[e._v("这是一个任何场所安全的词条")])],1),t("el-form-item",{attrs:{label:"词条说明："}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入词条说明信息，作为该词条的使用参考或者效果"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),t("el-form-item",{attrs:{label:"备注信息："}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入备注信息，可包含该词条信息依据的参考资料链接"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),t("el-form-item",{attrs:{label:"贡献者："}},[t("el-input",{attrs:{placeholder:"请留下您的用户名或昵称，以便我们记录贡献者，多位贡献者请用英文逗号分隔"},model:{value:e.form.contributor,callback:function(t){e.$set(e.form,"contributor",t)},expression:"form.contributor"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),t("el-button",{on:{click:e.roll_tag}},[e._v("换一个")])],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"tag_search"==e.activeIndex,expression:"activeIndex == 'tag_search'"}],staticClass:"search"},[t("div",{staticClass:"row"},[t("el-input",{attrs:{placeholder:"请输入词条名"},model:{value:e.search_keyword,callback:function(t){e.search_keyword=t},expression:"search_keyword"}}),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}})],1),t("el-table",{staticClass:"searchTable",staticStyle:{width:"100%"},attrs:{data:e.search_res,border:"",fit:""},on:{"row-click":e.getRow}},[t("el-table-column",{attrs:{prop:"name",label:"词条名"}}),t("el-table-column",{attrs:{prop:"t_name",label:"词条译名"}}),t("el-table-column",{attrs:{prop:"desc",label:"描述说明"}}),t("el-table-column",{attrs:{prop:"remark",label:"备注"}}),t("el-table-column",{attrs:{prop:"contributor",label:"贡献者"}}),t("el-table-column",{attrs:{prop:"c_id",label:"分类id"}}),t("el-table-column",{attrs:{prop:"nsfw",label:"是否工作场所不宜"}}),t("el-table-column",{attrs:{prop:"opration",label:"操作"}},[[t("el-button",{staticStyle:{margin:"0 1px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:e.toDonate}},[e._v("贡献 ")])]],2)],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"contributor"==e.activeIndex,expression:"activeIndex == 'contributor'"}],staticClass:"contributor"},[t("p",[e._v("词条贡献榜(每小时更新一次)")]),t("el-table",{staticClass:"searchTable",staticStyle:{width:"100%"},attrs:{data:e.contributor_toplist,border:"",fit:"","default-sort":{prop:"cnt",order:"descending"}}},[t("el-table-column",{attrs:{prop:"name",label:"贡献者"}}),t("el-table-column",{attrs:{prop:"cnt",label:"贡献词条数",sortable:""}})],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"share"==e.activeIndex,expression:"activeIndex == 'share'"}],staticClass:"share"},[e._m(0),e._m(1),e._m(2),t("p",[e._v("本站交流群：660612010")]),t("p",[e._v("PS:由于开发任务繁重、人手有限，页面样式未有充足时间进行美化，如果您有一技之长希望加入我们，欢迎加入交流群共议")])])],1)],1)},u=[function(){var e=this,t=e._self._c;return t("p",[e._v("NovelAI词条贡献站 - 数据开放平台 根据 "),t("a",{attrs:{href:"https://www.bilibili.com/read/cv19252957",target:"_blank"}},[e._v("NovelAI信息并联计划公约")]),e._v(" 约定：")])},function(){var e=this,t=e._self._c;return t("p",[e._v(" 贡献站所有词条数据资源来源于用户/网络搜集，免费服务于所有用户，任何个人/团队均可免费使用本站资源于任何 "),t("strong",{staticStyle:{color:"#e55"}},[e._v("非商用/盈利目的")]),e._v(" 项目"),t("br"),e._v(' 您只需要联系本站开发团队任意成员，提供 "任意联系方式", "应用名" 即可免费获取本站的数据源访问token，用于您的开发项目中 ')])},function(){var e=this,t=e._self._c;return t("p",[e._v("本站提供接口详见 "),t("a",{attrs:{href:"https://console-docs.apipost.cn/preview/dbc3a0be7aff05cb/526a9c13fe093c2c?target_id=632986c9-4ce6-4b50-b6b8-409e41be0c4b"}},[e._v("接口文档")])])}],p=(a(7658),{name:"Home",data(){return{activeIndex:"tag",form:{id:"",name:"",t_name:"",c_id:"",c_name:"",is_nsfw:!1,desc:"",remarks:"",contributor:""},categories:[],activeNames:["1"],up_cnt:"获取中...",ct_total:"获取中...",search_keyword:"",search_res:[],contributor_toplist:[]}},methods:{onSubmit(){console.log("submit!"),console.log(this.form);let e=this;this.$http({method:"POST",url:`${e.$store.state.serverhost}/update_taginfo`,data:e.form}).then((t=>{200==t.data.code?e.$message({type:"success",message:t.data.msg,duration:2e3}):e.$message({type:"error",message:t.data.msg,duration:2e3})})).catch((t=>{e.$message({type:"error",message:"请求后端服务器发生错误",duration:2e3})}))},roll_tag(){this.$message({type:"info",message:"正在获取随机tag",duration:1e3});let e=this;this.$http({method:"GET",url:`${e.$store.state.serverhost}/get_random_tag`}).then((t=>{200==t.data.code?(e.$message({type:"success",message:t.data.msg,duration:2e3}),console.log(t.data),e.form.id=t.data.data.id,e.form.c_id=t.data.data.c_id,e.form.is_nsfw=!!t.data.data.is_nsfw,e.form.name=t.data.data.name,e.form.t_name=t.data.data.t_name,e.form.desc=t.data.data.desc?t.data.data.desc:"",e.form.remarks=t.data.data.remarks?t.data.data.remarks:"",e.categories.forEach((a=>{a.id==t.data.data.c_id&&(e.form.c_name=a.name)}))):e.$message({type:"error",message:t.data.msg,duration:2e3})})).catch((t=>{e.$message({type:"error",message:"请求后端服务器发生错误",duration:2e3})}))},search(){let e=this;this.$http({method:"POST",url:`${e.$store.state.serverhost}/search_tags`,data:{keyword:e.search_keyword}}).then((t=>{200==t.data.code?t.data.data.length>0?e.search_res=t.data.data:(e.$message({type:"info",message:"查无相关数据",duration:2e3}),e.search_res=[]):e.$message({type:"error",message:t.data.msg,duration:2e3})})).catch((t=>{e.$message({type:"error",message:"请求后端服务器发生错误",duration:2e3})}))},handleSelect(e,t){console.log(e,t),this.activeIndex=t[0]},categoryHandleSelect(e){console.log(e),this.form.c_id=e.id},querySearch(e,t){var a=this.categories,s=e?a.filter(this.createFilter(e)):a;t(s)},createFilter(e){return t=>t.name.toLowerCase().indexOf(e.toLowerCase())>=0},get_categories(){let e=this;this.$http({method:"GET",url:`${e.$store.state.serverhost}/get_categories`}).then((t=>{e.categories=t.data.data,e.up_cnt=t.data.up_cnt,e.ct_total=t.data.ct_total,e.categories.forEach(((t,a)=>{e.categories[a].value=t.name})),e.roll_tag();let a=t.data.contributor,s=[];for(let e in a)s.push({name:e,cnt:a[e]});e.contributor_toplist=s})).catch((e=>{console.log(e)}))},onCopy(e){this.$message.success("词条名已复制到剪切板！")},onError(e){this.$message.error("抱歉，复制失败！")},getRow(e){this.selRowData=JSON.parse(JSON.stringify(e))},toDonate(){let e=this;setTimeout((()=>{e.form.id=e.selRowData.id,e.form.name=e.selRowData.name,e.form.t_name=e.selRowData.t_name,e.form.c_id=e.selRowData.c_id,e.form.c_name=e.selRowData.c_name,e.form.is_nfsw=e.selRowData.is_nfsw,e.form.desc=e.selRowData.desc,e.form.remarks=e.selRowData.remarks,e.activeIndex="tag"}),50)}},mounted(){this.get_categories()}}),h=p,f=(0,l.Z)(h,m,u,!1,null,"b31f2846",null),_=f.exports,g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page"},[t("div",{staticClass:"left"},[t("div",{staticClass:"logo",on:{click:e.openAccessInputer}},[e._v("CERF-AI")]),t("el-menu",{staticClass:"el-menu",attrs:{"default-active":"1-1","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose,select:e.selectMenu}},[t("el-submenu",{attrs:{index:"1"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-location"}),t("span",[e._v("词条贡献站")])]),t("el-menu-item",{attrs:{index:"1-1"}},[e._v("词条管理面板")])],2)],1)],1),t("div",{staticClass:"container"},[t("el-page-header",{staticClass:"panel-header",attrs:{title:"退出系统",content:e.panelTitle},on:{back:e.goBack}}),"1-1"==e.active_page?t("tagPanel",{ref:"tagPanel",staticClass:"panel"}):e._e()],1)])},v=[],b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tagPanel"},[t("div",{staticClass:"row"},[t("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pageIndex,"page-sizes":[20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),t("div",{staticClass:"row"},[t("el-input",{attrs:{placeholder:"请输入词条名"},model:{value:e.search_keyword,callback:function(t){e.search_keyword=t},expression:"search_keyword"}}),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}}),t("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-close"},on:{click:e.clear}})],1)],1),t("div",{staticClass:"table-view"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"99%",border:"",fit:"","default-sort":{prop:"update_time",order:"descending"}},on:{"row-click":e.getRow,"sort-change":e.sort_change}},[t("el-table-column",{attrs:{prop:"name",label:"词条名","min-width":"80",sortable:"custom"}}),t("el-table-column",{attrs:{prop:"t_name",label:"词条译名","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.tableData[a.$index].t_name,placement:"top-start"}},[t("span",{staticClass:"s_name_dsp"},[e._v(e._s(e.tableData[a.$index].t_name))])])]}}])}),t("el-table-column",{attrs:{prop:"c_id",label:"分类","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{domProps:{textContent:e._s(e.get_category_name(e.tableData[a.$index].c_id))}})]}}])}),t("el-table-column",{attrs:{prop:"desc",label:"词条说明","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.tableData[a.$index].desc,placement:"top-start"}},[t("span",{staticClass:"s_name_dsp"},[e._v(e._s(e.tableData[a.$index].desc))])])]}}])}),t("el-table-column",{attrs:{prop:"remarks",label:"词条备注","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.tableData[a.$index].remarks,placement:"top-start"}},[t("span",{staticClass:"s_name_dsp"},[e._v(e._s(e.tableData[a.$index].remarks))])])]}}])}),t("el-table-column",{attrs:{prop:"contributor",label:"贡献者","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.tableData[a.$index].contributor,placement:"top-start"}},[t("span",{staticClass:"s_name_dsp"},[e._v(e._s(e.tableData[a.$index].contributor))])])]}}])}),t("el-table-column",{attrs:{prop:"is_nsfw",label:"是否NSFW","min-width":"90",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(a){return[e.tableData[a.$index].is_nsfw?t("el-tag",{attrs:{type:"danger"}},[e._v("NSFW")]):t("el-tag",[e._v("安全")])]}}])}),t("el-table-column",{attrs:{prop:"is_locked",label:"是否锁定","min-width":"80",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(a){return[e.tableData[a.$index].is_locked?t("el-tag",{attrs:{type:"warning"}},[e._v("已锁定")]):t("el-tag",{attrs:{type:"success"}},[e._v("未锁定")])]}}])}),t("el-table-column",{attrs:{prop:"update_time",label:"上次更新时间","min-width":"110",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{domProps:{textContent:e._s(e.GMTToStr(e.tableData[a.$index].update_time))}})]}}])}),t("el-table-column",{attrs:{prop:"update_times",label:"更新次数","min-width":"80",sortable:"custom"}}),t("el-table-column",{attrs:{label:"操作",width:"90"}},[[t("el-button",{staticStyle:{margin:"0 1px"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){e.drawer=!0}}},[e._v("详情")])]],2)],1)],1),t("el-drawer",{attrs:{title:"歌单详情",withHeader:!1,visible:e.drawer,size:"800px",direction:"rtl"},on:{"update:visible":function(t){e.drawer=t}}},[t("div",{staticClass:"drawer"},[t("el-descriptions",{staticClass:"margin-top",attrs:{title:"词条详情",column:2,size:"small",border:""}},[t("template",{slot:"extra"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitUpdate}},[e._v("提交修改")])],1),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-mobile-phone"}),e._v("词条名")]),e._v(" "+e._s(e.selRowData.name)+" ")],2),t("el-descriptions-item",{attrs:{span:"1"}},[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-comment"}),e._v(" 词条译名 ")]),t("el-input",{attrs:{placeholder:"请输入词条译名"},model:{value:e.selRowData.t_name,callback:function(t){e.$set(e.selRowData,"t_name",t)},expression:"selRowData.t_name"}})],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-custom"}),e._v("是否NSFW")]),t("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#ff8989","inactive-color":"#13ce66","active-text":"NSFW","inactive-text":"正常"},model:{value:e.selRowData.is_nsfw,callback:function(t){e.$set(e.selRowData,"is_nsfw",t)},expression:"selRowData.is_nsfw"}})],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-key"}),e._v("是否锁定")]),t("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#ffd949","inactive-color":"#13ce66","active-text":"锁定词条","inactive-text":"解锁词条"},model:{value:e.selRowData.is_locked,callback:function(t){e.$set(e.selRowData,"is_locked",t)},expression:"selRowData.is_locked"}})],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-headset"}),e._v("上次更新时间")]),e._v(" "+e._s(e.GMTToStr(e.selRowData.update_time))+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-star-off"}),e._v("更新总次数")]),e._v(" "+e._s(e.selRowData.update_times)+" ")],2),t("el-descriptions-item",{attrs:{span:"2"}},[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-comment"}),e._v(" 词条说明 ")]),t("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"可搜索词条分类",clearable:""},on:{select:e.categoryHandleSelect},model:{value:e.selRowData.c_name,callback:function(t){e.$set(e.selRowData,"c_name",t)},expression:"selRowData.c_name"}})],2),t("el-descriptions-item",{attrs:{span:"2"}},[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-comment"}),e._v(" 词条说明 ")]),t("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入词条说明"},model:{value:e.selRowData.desc,callback:function(t){e.$set(e.selRowData,"desc",t)},expression:"selRowData.desc"}})],2),t("el-descriptions-item",{attrs:{span:"2"}},[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-comment"}),e._v(" 词条备注 ")]),t("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入词条备注"},model:{value:e.selRowData.remarks,callback:function(t){e.$set(e.selRowData,"remarks",t)},expression:"selRowData.remarks"}})],2),t("el-descriptions-item",{attrs:{span:"2"}},[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-comment"}),e._v(" 贡献者 ")]),t("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入词条备注"},model:{value:e.selRowData.contributor,callback:function(t){e.$set(e.selRowData,"contributor",t)},expression:"selRowData.contributor"}})],2)],2)],1)])],1)},w=[],k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tableFilter"},[t("el-popover",{attrs:{placement:"top"},model:{value:e.filterVisiable,callback:function(t){e.filterVisiable=t},expression:"filterVisiable"}},[t("p",{staticClass:"ftitle"},[e._v("最后更新时间过滤:")]),e.showPanel.date_picker?t("div",{staticClass:"row"},[t("span",[e._v("日期范围：")]),t("div",{staticClass:"col",attrs:{span:12}},[t("div",{staticClass:"block"},[t("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.filterValue.dateValue,callback:function(t){e.$set(e.filterValue,"dateValue",t)},expression:"filterValue.dateValue"}})],1)])]):e._e(),e.showPanel.order_opt?t("p",{staticStyle:{"padding-bottom":"2px","margin-bottom":"4px","border-bottom":"1px solid #eee"}},[e._v("排序项:")]):e._e(),e.showPanel.order_opt?t("div",{staticClass:"row"},[t("span",[e._v("排序方式:")]),t("div",{staticClass:"col",attrs:{span:12}},[t("el-select",{attrs:{clearable:"",placeholder:"排序方式"},model:{value:e.filterValue.order,callback:function(t){e.$set(e.filterValue,"order",t)},expression:"filterValue.order"}},e._l(e.orderOptions,(function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value}})})),1)],1)]):e._e(),t("div",{staticStyle:{"text-align":"right",margin:"10px 0 0"}},[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.reload(),e.filterVisiable=!1}}},[e._v("重置")]),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.filterVisiable=!1,e.freshen()}}},[e._v("确定")])],1),t("el-button",{attrs:{slot:"reference"},slot:"reference"},[t("i",{staticClass:"el-icon-set-up"})])],1)],1)},y=[],x={props:{showPanel:Object},data(){return{filterVisiable:!1,filterValue:{dateValue:[],publishtime:"",order:""},pickerOptions:{shortcuts:[{text:"最近一周",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}},{text:"最近一年",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-31536e6),e.$emit("pick",[a,t])}},{text:"最近两年",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-63072e6),e.$emit("pick",[a,t])}},{text:"最近三年",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-94608e6),e.$emit("pick",[a,t])}}]},orderOptions:[{value:"xxx",label:"xxx升序"},{value:"-xxx",label:"xxx降序"}],wechatOps:[]}},mounted(){},methods:{getFilter(){let e="";return this.filterValue.dateValue[0]&&this.formatDateTime(this.filterValue.dateValue[1])&&(e=this.formatDateTime(this.filterValue.dateValue[0])+"_"+this.formatDateTime(this.filterValue.dateValue[1])),this.filterValue.publishtime=e,this.filterValue},formatDateTime(e){if(null==e)return null;let t=new Date(e),a=1900+t.getYear(),s="0"+(t.getMonth()+1),r="0"+t.getDate();return a+"-"+s.substring(s.length-2,s.length)+"-"+r.substring(r.length-2,r.length)}}},$=x,C=(0,l.Z)($,k,y,!1,null,"439ca7b8",null),D=C.exports,S={components:{tableFilter:D},data(){return{search_keyword:"",pageIndex:1,pageSize:20,total:0,tableData:[],drawer:!1,selRowData:{},sortkey:"-update_time",categories:[],showPanel:{date_picker:!0,order_opt:!0}}},methods:{getRow(e){this.selRowData=JSON.parse(JSON.stringify(e)),this.cmpSelRowData=JSON.parse(JSON.stringify(e))},search(){let e=this;this.$http({method:"POST",url:`${e.$store.state.serverhost}/admin/filter_tags`,data:{keyword:e.search_keyword,page:e.pageIndex,limit:e.pageSize,token:e.$store.state.token,order:e.sortkey}}).then((t=>{200==t.data.code?t.data.data.length>0?(e.tableData=t.data.data,e.total=t.data.total,e.$message({type:"success",message:"获取词条列表成功",duration:2e3})):(e.$message({type:"info",message:"查无相关数据",duration:2e3}),e.tableData=[]):e.$message({type:"error",message:t.data.msg,duration:2e3})})).catch((t=>{e.$message({type:"error",message:"请求后端服务器发生错误或未授权",duration:2e3})}))},clear(){this.search_keyword="",this.search()},submitUpdate(){let e=this;this.$http({method:"POST",url:`${e.$store.state.serverhost}/admin/edit_tag`,data:{...e.selRowData,token:e.$store.state.token}}).then((t=>{200==t.data.code?(e.search(),e.drawer=!1,e.$message({type:"success",message:t.data.msg,duration:2e3})):e.$message({type:"error",message:t.data.msg,duration:2e3})})).catch((t=>{e.$message({type:"error",message:"请求后端服务器发生错误或未授权",duration:2e3})}))},sort_change(e){console.log(e),"ascending"==e.order?this.sortkey=e.prop:"descending"==e.order?this.sortkey="-"+e.prop:this.sortkey="",this.search()},handleSizeChange(e){this.pageSize=e,this.search()},handleCurrentChange(e){this.pageIndex=e,this.search()},GMTToStr(e){if(e){e=new Date(e.slice(0,-4));var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var s=e.getDate();s=s<10?"0"+s:s;var r=e.getHours();r=r<10?"0"+r:r;var o=e.getMinutes();o=o<10?"0"+o:o;var l=e.getSeconds();return l=l<10?"0"+l:l,t+"-"+a+"-"+s+" "+r+":"+o+":"+l}return""},categoryHandleSelect(e){console.log(e),this.selRowData.c_id=e.id},querySearch(e,t){var a=this.categories,s=e?a.filter(this.createFilter(e)):a;t(s)},createFilter(e){return t=>t.name.toLowerCase().indexOf(e.toLowerCase())>=0},get_categories(){let e=this;this.$http({method:"GET",url:`${e.$store.state.serverhost}/get_categories`}).then((t=>{e.categories=t.data.data,e.up_cnt=t.data.up_cnt,e.categories.forEach(((t,a)=>{e.categories[a].value=t.name}));let a=t.data.contributor,s=[];for(let e in a)s.push({name:e,cnt:a[e]});e.contributor_toplist=s})).catch((e=>{console.log(e)}))},get_category_name(e){let t="未知分类";return this.categories.forEach((a=>{a.id==e&&(t=a.name)})),t}},mounted(){this.search(),this.get_categories()}},T=S,R=(0,l.Z)(T,b,w,!1,null,"403f710d",null),O=R.exports,N={components:{tagPanel:O},data(){return{panelTitle:"词条管理页面",active_page:"1-1",categories:[],contributor_toplist:[],up_cnt:0,prompt_enable:!1}},methods:{handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},selectMenu(e,t){console.log(e,t),this.active_page=e},goBack(){this.$router.push("/")},get_categories(){let e=this;this.$http({method:"GET",url:`${e.$store.state.serverhost}/get_categories`}).then((t=>{e.categories=t.data.data,e.up_cnt=t.data.up_cnt,e.categories.forEach(((t,a)=>{e.categories[a].value=t.name}));let a=t.data.contributor,s=[];for(let e in a)s.push({name:e,cnt:a[e]});e.contributor_toplist=s})).catch((e=>{console.log(e)}))},openAccessInputer(){this.prompt_enable=!0,this.$prompt("请输入授权码","提示",{confirmButtonText:"提交",cancelButtonText:"返回首页",inputErrorMessage:"输入内容有误"}).then((({value:e})=>{let t=this;this.$http({method:"POST",url:`${t.$store.state.serverhost}/admin/check_access`,data:{token:e}}).then((a=>{200==a.data.code?(this.$message({type:"success",message:a.data.msg,duration:2e3}),t.$store.commit("setToken",e),t.$refs.tagPanel.search()):(this.$message({type:"error",message:a.data.msg,duration:2e3}),this.openAccessInputer()),this.prompt_enable=!1}))})).catch((()=>{this.$message({type:"error",message:"访问该页面需要授权码，即将自动跳转至首页",duration:1500}),setTimeout((()=>{this.$router.push("/")}),1e3),this.prompt_enable=!1}))}},mounted(){this.openAccessInputer()}},I=N,P=(0,l.Z)(I,g,v,!1,null,"182902ce",null),V=P.exports;s["default"].use(d.ZP);const z=[{path:"/",name:"home",component:_},{path:"/admin",name:"admin",component:V}],F=new d.ZP({routes:z});var E=F,M=a(3822);s["default"].use(M.ZP);var Z=new M.ZP.Store({state:{categories:[],serverhost:"http://www.morangames.xyz:3090",token:""},getters:{},mutations:{setCategories(e,t){e.categories=JSON.parse(JSON.stringify(t))},setToken(e,t){e.token=t}},actions:{},modules:{}}),j=a(8499),A=a.n(j);s["default"].use(A()),s["default"].use(j.Button),s["default"].use(j.Form),s["default"].use(j.FormItem),s["default"].use(j.Input),s["default"].use(j.Pagination),s["default"].prototype.$message=j.Message,s["default"].prototype.$prompt=j.MessageBox.prompt;var J=a(70),G=a(9808),H=a.n(G),B=a(5428),W=a.n(B);J.Z.defaults.withCredentials=!0,s["default"].prototype.$http=J.Z,s["default"].use(H(),J.Z),s["default"].use(W()),s["default"].config.productionTip=!1,new s["default"]({router:E,store:Z,render:e=>e(c)}).$mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,o){if(!s){var l=1/0;for(d=0;d<e.length;d++){s=e[d][0],r=e[d][1],o=e[d][2];for(var i=!0,n=0;n<s.length;n++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[n])}))?s.splice(n--,1):(i=!1,o<l&&(l=o));if(i){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,l=s[0],i=s[1],n=s[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(n)var d=n(a)}for(t&&t(s);c<l.length;c++)o=l[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},s=self["webpackChunknovelai_manual"]=self["webpackChunknovelai_manual"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(3101)}));s=a.O(s)})();
//# sourceMappingURL=app.c845fba1.js.map